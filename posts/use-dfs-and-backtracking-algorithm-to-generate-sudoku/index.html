<!DOCTYPE html>
<html lang="zh-hans">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#494f5c">
	<meta name="msapplication-TileColor" content="#494f5c">

<meta itemprop="name" content="数独 - 软件工程实践 2017 第二次作业">
<meta itemprop="description" content="Github 地址 https://github.com/ladit/Sudoku 解题思路 数独生成 我算法方面差一些，数独以前也是没有玩过的。了解了数独的规则后，想到的方法也只是暴力计算——也就是随机法——循环生成一">



<meta itemprop="wordCount" content="3123">



<meta itemprop="keywords" content="assignment,college,sudoku,dfs,backtracking,algorithm," />
<meta property="og:title" content="数独 - 软件工程实践 2017 第二次作业" />
<meta property="og:description" content="Github 地址 https://github.com/ladit/Sudoku 解题思路 数独生成 我算法方面差一些，数独以前也是没有玩过的。了解了数独的规则后，想到的方法也只是暴力计算——也就是随机法——循环生成一" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ladit.me/posts/use-dfs-and-backtracking-algorithm-to-generate-sudoku/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="数独 - 软件工程实践 2017 第二次作业"/>
<meta name="twitter:description" content="Github 地址 https://github.com/ladit/Sudoku 解题思路 数独生成 我算法方面差一些，数独以前也是没有玩过的。了解了数独的规则后，想到的方法也只是暴力计算——也就是随机法——循环生成一"/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>数独 - 软件工程实践 2017 第二次作业</title>
	<link rel="stylesheet" href="https://ladit.me/css/style.min.568c54a56780af2a70c45272522247710b69dbfc080b315211fb98381e3796f8.css" integrity="sha256-VoxUpWeArypwxFJyUiJHcQtp2/wICzFSEfuYOB43lvg=">
	
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp faster">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://ladit.me">孤岛</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					
				<a href="https://ladit.me/posts/">文章</a>
				<a href="https://ladit.me/about/">关于</a>

				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<button id="toc-btn" class="hdr-btn desktop-only-ib" title="Table of Contents"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line></svg></button><span class="hdr-social hide-in-mobile"><a href="mailto:i@ladit.me" target="_blank" rel="noopener me" title="Email"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="https://github.com/ladit" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://ladit.me/posts/">文章</a></li>
			<li><a href="https://ladit.me/about/">关于</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Jan 1, 0001</span></div>
				<h1>数独 - 软件工程实践 2017 第二次作业</h1>
			</header>
			<div class="content">
				

<hr />

<h2 id="github-地址">Github 地址<a href="#github-地址" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<p><a href="https://github.com/ladit/Sudoku" target="_blank">https://github.com/ladit/Sudoku</a></p>

<hr />

<h2 id="解题思路">解题思路<a href="#解题思路" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<h3 id="数独生成">数独生成<a href="#数独生成" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<p>我算法方面差一些，数独以前也是没有玩过的。了解了数独的规则后，想到的方法也只是暴力计算——也就是随机法——循环生成一行随机数字，依次填入数独棋盘第一到第九行，每行每个位置填入时，检查当前是否符合数独规则。</p>

<p>花费一些时间实现这个算法并 De 掉层出不穷的 Bug （太久没写 C++ 了）后，测试过程中发现理想很丰满，现实很骨感——仅仅第二行就一直无法插入，即使 循环生成一行随机数字 对应的方法调用了上千次。的确，这样效率太低，因为第二行很容易就和第一行冲突了。</p>

<p>这意味着算法需要改进，冥思苦想后没太大结果，在网上阅读了一些生成数独的算法的文章：</p>

<ul>
<li><a href="https://segmentfault.com/a/1190000004641936" target="_blank">[Java] 数独生成和求解</a>：使用深度优先搜索和回溯法填写数独；</li>
<li><a href="https://my.oschina.net/wangmengjun/blog/781984" target="_blank">数独终盘生成的几种方法</a>：矩阵转换法和随机法；</li>
<li><a href="http://blog.csdn.net/peng_wu01/article/details/6026103" target="_blank">数独 &ndash; 一个高效率生成数独的算法</a>：另一种随机法，评论中说规律性强；</li>
</ul>

<p>其中第二种的矩阵转换法和第三种的“随机法”虽然效率都较高，但在其文章和评论中都提到不够随机，有规律可循，因此我决定参考第一篇文章中说的深度优先搜索和回溯法。</p>

<p>这种方法先随机把九个数字填入数独，然后递归寻找整个数独棋盘 可填写数字 数量最少的格子，最后生成整个棋盘，遇到 可填写数字 数量为0的格子时，向前回溯。</p>

<p>后来看到网上讨论（如下），Dancing Links （DLX）应该是目前求解数独较快的算法，对于题目中的1000000个数独，可能这种算法比较好实现。但当时已经基本完成了深度优先搜索和回溯法，所以这种方法有待之后改进再实现。</p>

<ul>
<li><a href="http://blog.csdn.net/keyboardlabourer/article/details/13015689" target="_blank">【算法】Dancing Links (DLX) I</a></li>
<li><a href="http://blog.csdn.net/keyboardlabourer/article/details/13168391" target="_blank">【算法】Dancing Links (DLX) II</a></li>
<li><a href="http://blog.csdn.net/keyboardlabourer/article/details/13015689" target="_blank">DLX 算法介绍</a></li>
<li><a href="http://blog.csdn.net/keyboardlabourer/article/details/13015689" target="_blank">Sudoku DLX 算法求解</a></li>
<li><a href="http://blog.gssxgss.me/use-dlx-to-solve-sudoku-1/" target="_blank">用 DLX 解 sudoku(数独)</a></li>
<li><a href="https://www.oschina.net/code/snippet_1159061_22803" target="_blank">数独 Sudoku DLX 算法</a></li>
</ul>

<h3 id="文件输出">文件输出<a href="#文件输出" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<p>文件输出无非使用 C/C++ 标准的 <code>fread</code> 和 <code>fwrite</code> 或 <code>fstream</code> 来实现，但这两种方式的使用有值得探讨的地方。</p>

<p>在网上找了一些文件输出效率对比的文章（以下列出），似乎它们都一致认为 C 标准的函数效率更高，但这些文章都较为老旧，不知道是否都使用  Visual Studio，有使用  Visual Studio 的版本又较低，新的  Visual Studio 使用 MSBuild 作为编译器，据说 C++ 标准的函数效率有所改进，同时重要的是，为了统一代码标准，应当先使用 C++ 标准的 <code>fstream</code>。</p>

<ul>
<li><a href="http://blog.csdn.net/shudaxia123/article/details/50491451" target="_blank">C/C++ 文件操作效率比较——FILE/fstream</a></li>
<li><a href="http://blog.csdn.net/kevin_ut/article/details/6088489" target="_blank">fstream 与 C 风格（例如 fread 和 fwrite ）两种读写文件方法的效率比较</a></li>
<li><a href="https://www.byvoid.com/zhs/blog/fast-readfile" target="_blank">探寻 C++ 最快的读取文件的方案</a></li>
<li><a href="http://dantvt.is-programmer.com/posts/12701.html" target="_blank">File I/O 效率 C vs C++ (一)</a></li>
</ul>

<p>然而看到同学们的博客中有的使用了 C 标准的函数很大地提高了效率，这我就陷入纠结：是应该遵守统一标准，还是追求效率？或者其实两者本来就被允许通用？</p>

<h3 id="使用规范">使用规范<a href="#使用规范" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<p>在题目中提到，</p>

<blockquote>
<p>值得一提的是，测试数据中有可能出现错误，比如出现 sudoku.exe -c abc 这样的命令，你的程序需要自行处理错误情况，并给出合适的错误提示信息。</p>
</blockquote>

<p>因此需要对程序限制使用规范，以增强其健壮性。这个程序我设置了两种使用方式：</p>

<ul>
<li>直接运行程序，输入需要生成的数独数量；</li>
<li><code>sudoku.exe -c N</code> （0 &lt; N &lt;= 1000000， N 为需要生成的数独数量，整数）（也可以是 <code>-C</code>）；</li>
</ul>

<p>这样的话，由于有输入，需要对输入检测是否合法，例如是否整数，是否 0 &lt; N &lt;= 1000000。</p>

<hr />

<h2 id="设计实现">设计实现<a href="#设计实现" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<p>我的设计实现经历了一些比较大的变化。开始的时候为了快速实现算法，把一切东西都写在 <code>main</code> 和其他附属方法中，完成基本的输出一个数独的功能后，我开始对文件结构、类、函数整理。</p>

<h3 id="文件结构">文件结构<a href="#文件结构" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<div class="highlight"><pre class="chroma"><code class="language-filetree" data-lang="filetree">/root
  /BIN                   // 可执行文件目录
    sudoku.exe           // 可执行文件
  /src                   // 源文件目录
    stdafx.h             //  Visual Studio 自带头文件
    stdafx.cpp           //  Visual Studio 自带头文件
    targetver.h          //  Visual Studio 自带头文件
    sudokuMaker.h        // 数独生成类声明
    sudokuMaker.cpp      // 数独生成类实现
    fileController.h     // 文件控制类声明
    fileController.cpp   // 文件控制类实现
    usageValidator.h     // 使用规范类声明
    usageValidator.cpp   // 使用规范类实现
    Sudoku.cpp           // 主程序入口
  README.md              // 说明</code></pre></div>
<h3 id="类与方法结构">类与方法结构<a href="#类与方法结构" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<p>共有三个类，分别为 <code>sudokuMaker</code>、<code>fileController</code>、<code>usageValidator</code>，其中<code>sudokuMaker</code> 和 <code>usageValidator</code> 在主函数 <code>main</code> 中实例化，用来实现数独生成和输入验证，<code>fileController</code> 的实例是 <code>sudokuMaker</code> 的私有成员，用来生成完数独后输出到文件。</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span><span class="err"> </span><span class="nc">sudokuMaker</span> <span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">bool</span> <span class="n">generateAndPrint</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">sudokuQuantity</span><span class="p">);</span>  <span class="c1">// 循环生成数独并且打印到文件
</span><span class="c1"></span>
  <span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">blank</span><span class="p">;</span>  <span class="c1">// 数独棋盘待填格数，新的待填数独棋盘模板初始化后有 72 格待填
</span><span class="c1"></span>    <span class="kt">int</span> <span class="n">hint</span><span class="p">;</span>  <span class="c1">// 数独棋盘提示格数
</span><span class="c1"></span>    <span class="kt">int</span> <span class="n">fullBoard</span><span class="p">[</span><span class="mi">9</span><span class="p">][</span><span class="mi">9</span><span class="p">];</span>  <span class="c1">// 完整数独棋盘
</span><span class="c1"></span>    <span class="n">fileController</span> <span class="n">fc</span><span class="p">;</span>  <span class="c1">// 文件控制器，用来输出到文件
</span><span class="c1"></span>    <span class="kt">void</span> <span class="nf">newTemplate</span><span class="p">();</span>  <span class="c1">// 产生新的待填数独棋盘模板
</span><span class="c1"></span>    <span class="kt">bool</span> <span class="nf">dfs</span><span class="p">();</span>  <span class="c1">// 深度优先搜索填写数独棋盘
</span><span class="c1"></span>    <span class="kt">int</span> <span class="nf">validNumbersQuantity</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">row</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">col</span><span class="p">,</span> <span class="kt">int</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">mark</span><span class="p">)[</span><span class="mi">10</span><span class="p">]);</span>
        <span class="c1">// 某一格可填写数字数量计算
</span><span class="c1"></span><span class="p">};</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span><span class="err"> </span><span class="nc">fileController</span> <span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">bool</span> <span class="n">open</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">outputPath</span><span class="p">);</span>  <span class="c1">// 打开文件以输出
</span><span class="c1"></span>    <span class="kt">void</span> <span class="nf">write</span><span class="p">(</span><span class="kt">int</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">fullBoard</span><span class="p">)[</span><span class="mi">9</span><span class="p">][</span><span class="mi">9</span><span class="p">]);</span>  <span class="c1">// 写入
</span><span class="c1"></span>    <span class="kt">void</span> <span class="nf">close</span><span class="p">();</span>  <span class="c1">// 关闭文件
</span><span class="c1"></span>
  <span class="k">private</span><span class="o">:</span>
    <span class="n">ofstream</span> <span class="n">outFile</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span><span class="err"> </span><span class="nc">usageValidator</span> <span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">check</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">);</span>  <span class="c1">// 检查输入
</span><span class="c1"></span>
  <span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">checkStringAndConvertToInteger</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">str</span><span class="p">);</span> <span class="c1">// 检查字符串并转换成整数
</span><span class="c1"></span><span class="p">};</span>
</code></pre></div>
<hr />

<h2 id="代码说明">代码说明<a href="#代码说明" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<p>一些主要方法的说明：</p>

<p>输入要生成的数独数量，生成完整数独棋盘并输出到文件</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">bool</span> <span class="n">sudokuMaker</span><span class="o">::</span><span class="n">generateAndPrint</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">sudokuQuantity</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">fc</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#34;.</span><span class="se">\\</span><span class="s">sudoku.txt&#34;</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">sudokuQuantity</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">newTemplate</span><span class="p">();</span>  <span class="c1">// 随机生成模板，除了第一行第一个，把其他八个数字随机填入数独棋盘
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">dfs</span><span class="p">())</span> <span class="p">{</span>  <span class="c1">// 深度优先搜索
</span><span class="c1"></span>          <span class="n">fc</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">fullBoard</span><span class="p">);</span>  <span class="c1">// 若成功则输出到文件
</span><span class="c1"></span>          <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// 失败则重新循环
</span><span class="c1"></span>      <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">fc</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>深度优先搜索</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">bool</span> <span class="n">sudokuMaker</span><span class="o">::</span><span class="n">dfs</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">blank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>  <span class="c1">// 填写完毕，无空格
</span><span class="c1"></span>  <span class="p">}</span>

  <span class="kt">int</span> <span class="n">minQuantity</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>  <span class="c1">// 当前可填写数字最少的数量
</span><span class="c1"></span>  <span class="kt">int</span> <span class="n">mini</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">minj</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// 当前 可填写数字数量最少 的格子位置
</span><span class="c1"></span>
  <span class="kt">int</span> <span class="n">mark</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>  <span class="c1">// 标记已填写和未填写的数字
</span><span class="c1"></span>
  <span class="c1">// 寻找可填写数字数量最少的格子
</span><span class="c1"></span>  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">fullBoard</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">continue</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">validNumbersQuantity</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">mark</span><span class="p">);</span>  <span class="c1">// 计算可填写数字数量
</span><span class="c1"></span>      <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">&lt;</span> <span class="n">minQuantity</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">minQuantity</span> <span class="o">=</span> <span class="n">count</span><span class="p">;</span>
        <span class="n">mini</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="n">minj</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 优先填写 可填写数字数量最少 的格子
</span><span class="c1"></span>  <span class="n">validNumbersQuantity</span><span class="p">(</span><span class="n">mini</span><span class="p">,</span> <span class="n">minj</span><span class="p">,</span> <span class="n">mark</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">mark</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">fullBoard</span><span class="p">[</span><span class="n">mini</span><span class="p">][</span><span class="n">minj</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
      <span class="n">blank</span><span class="o">--</span><span class="p">;</span>
      <span class="n">dfs</span><span class="p">();</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">blank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">fullBoard</span><span class="p">[</span><span class="n">mini</span><span class="p">][</span><span class="n">minj</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">0</span><span class="p">;</span> <span class="c1">// 回溯
</span><span class="c1"></span>      <span class="n">blank</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>计算可填写数字数量</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="n">sudokuMaker</span><span class="o">::</span><span class="n">validNumbersQuantity</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">row</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">col</span><span class="p">,</span> <span class="kt">int</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">mark</span><span class="p">)[</span><span class="mi">10</span><span class="p">])</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">mark</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// 某一格所在的行和列已填写数字记录
</span><span class="c1"></span>    <span class="n">mark</span><span class="p">[</span><span class="n">fullBoard</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">col</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">mark</span><span class="p">[</span><span class="n">fullBoard</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">baseRow</span> <span class="o">=</span> <span class="n">row</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">baseCol</span> <span class="o">=</span> <span class="n">col</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// 某一格所在的九宫格已填写数字记录
</span><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">mark</span><span class="p">[</span><span class="n">fullBoard</span><span class="p">[</span><span class="n">baseRow</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="n">baseCol</span> <span class="o">+</span> <span class="n">j</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// 可填写数字计算
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">mark</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">count</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">count</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>检查字符串是否整数形式并转换成整数</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="n">usageValidator</span><span class="o">::</span><span class="n">checkStringAndConvertToInteger</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">size_t</span> <span class="n">sizeOfString</span> <span class="o">=</span> <span class="n">str</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">sizeOfString</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="kt">int</span><span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">temp</span> <span class="o">&gt;=</span> <span class="mi">48</span> <span class="o">&amp;&amp;</span> <span class="n">temp</span> <span class="o">&lt;=</span> <span class="mi">57</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// 字符串中某个字符不是数字则返回 0，即失败
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">convertedInteger</span> <span class="o">=</span> <span class="n">stoi</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>  <span class="c1">// 字符串转换为整数
</span><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="n">convertedInteger</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">convertedInteger</span> <span class="o">&gt;</span> <span class="mi">1000000</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// 不在 0 到 1000000 则返回失败
</span><span class="c1"></span>  <span class="p">}</span>
  <span class="k">return</span> <span class="n">convertedInteger</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<hr />

<h2 id="测试运行">测试运行<a href="#测试运行" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<p><img src="http://ouk4b9x96.bkt.clouddn.com/sudoku-running-20170910202010.png" alt="运行测试" /></p>

<hr />

<h2 id="改进记录与性能分析">改进记录与性能分析<a href="#改进记录与性能分析" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<h3 id="改进记录">改进记录<a href="#改进记录" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<ul>
<li>使用形如 <code>const int &amp;row</code> 这样的参数代替 <code>int row</code> 这样的参数，提升效率，防止修改；</li>
<li>使用定长数组代替 vector；</li>
<li>文件打开和关闭操作只执行一次；</li>
<li>文件写入方式改进，从每一个数字都使用文件流输出变成把一个数独棋盘转换成一个字符串后一起输出；</li>
<li>其他改进……；</li>
</ul>

<h3 id="性能分析">性能分析<a href="#性能分析" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<p>文件写入改进前：</p>

<p><img src="http://ouk4b9x96.bkt.clouddn.com/performance-before-20170910211012.png" alt="文件写入改进前" /></p>

<p>文件写入改进后：</p>

<p><img src="http://ouk4b9x96.bkt.clouddn.com/performance-after-20170910210953.png" alt="文件写入改进后" /></p>

<p><img src="http://ouk4b9x96.bkt.clouddn.com/cpu-usage-20170910212844.png" alt="CPU 占用" /></p>

<p>可以看到，在改进前 <code>fileController::write()</code> 消耗很大，改进后 <code>sudokuMaker::validNumbersQuantity()</code> 是最大消耗的函数。如果想要进一步改进的话，应该需要使用上面说的 DLX 算法。</p>

<h3 id="代码覆盖率">代码覆盖率<a href="#代码覆盖率" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<p>助教在群里推荐的 C++ Coverage Validator，我没办法配置成功，这款工具的教程网上少、旧。所以我去找了一下其他替代的工具。</p>

<p>OpenCppCoverage（<a href="https://ladit.me/opencppcoverage-usage/" target="_blank">使用教程</a>）是一款好用方便的 C++ 代码覆盖率检测工具，可以独立在命令行运行也可以作为 Visual Studio 13/15/17 的插件。</p>

<p>我使用 OpenCppCoverage 测试代码覆盖率的结果如下：</p>

<p><img src="http://ouk4b9x96.bkt.clouddn.com/coverage-20170911175949.png" alt="代码覆盖率" /></p>

<h3 id="单元测试">单元测试<a href="#单元测试" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<p>待填写。</p>

<hr />

<h2 id="psp-表格">PSP 表格<a href="#psp-表格" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<table>
<thead>
<tr>
<th>PSP2.1</th>
<th>Personal Software Process Stages</th>
<th>预估耗时（分钟）</th>
<th>实际耗时（分钟）</th>
</tr>
</thead>

<tbody>
<tr>
<td>Planning</td>
<td>计划</td>
<td>40</td>
<td>35</td>
</tr>

<tr>
<td>· Estimate</td>
<td>· 估计这个任务需要多少时间</td>
<td>40</td>
<td>35</td>
</tr>

<tr>
<td>Development</td>
<td>开发</td>
<td>915</td>
<td>1055</td>
</tr>

<tr>
<td>· Analysis</td>
<td>· 需求分析 (包括学习新技术)</td>
<td>300</td>
<td>360</td>
</tr>

<tr>
<td>· Design Spec</td>
<td>· 生成设计文档</td>
<td>10</td>
<td>15</td>
</tr>

<tr>
<td>· Design Review</td>
<td>· 设计复审 (和同事审核设计文档)</td>
<td>5</td>
<td>5</td>
</tr>

<tr>
<td>· Coding Standard</td>
<td>· 代码规范 (为目前的开发制定合适的规范)</td>
<td>5</td>
<td>5</td>
</tr>

<tr>
<td>· Design</td>
<td>· 具体设计</td>
<td>25</td>
<td>30</td>
</tr>

<tr>
<td>· Coding</td>
<td>· 具体编码</td>
<td>240</td>
<td>250</td>
</tr>

<tr>
<td>· Code Review</td>
<td>· 代码复审</td>
<td>30</td>
<td>40</td>
</tr>

<tr>
<td>· Test</td>
<td>· 测试（自我测试，修改代码，提交修改）</td>
<td>300</td>
<td>350</td>
</tr>

<tr>
<td>Reporting</td>
<td>报告</td>
<td>240</td>
<td>295</td>
</tr>

<tr>
<td>· Test Report</td>
<td>· 测试报告</td>
<td>40</td>
<td>40</td>
</tr>

<tr>
<td>· Size Measurement</td>
<td>· 计算工作量</td>
<td>20</td>
<td>15</td>
</tr>

<tr>
<td>· Postmortem &amp; Process Improvement Plan</td>
<td>· 事后总结, 并提出过程改进计划</td>
<td>180</td>
<td>240</td>
</tr>

<tr>
<td>All</td>
<td>合计</td>
<td>1195</td>
<td>1385</td>
</tr>
</tbody>
</table>

<hr />

<h2 id="后话">后话<a href="#后话" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<p>感觉这次的作业还是挺赶的，之前本来以为应该工作量不大，先写其他项目去了。然而较久没有写 C++ 给我带来许多麻烦，有一些忘记了，有一些不知道怎么用/实现。另外  Visual Studio 和其他工具的安装配置、性能测试了解和实施其实都需要挺多时间。所以本来想实现一下 GUI 的界面，看起来也只能是后话的后话了。</p>

<hr />

<p>本文发布于 <a href="https://ladit.me/posts/use-dfs-and-backtracking-algorithm-to-generate-sudoku/" target="_blank">ladit.me/posts/use-dfs-and-backtracking-algorithm-to-generate-sudoku</a></p>

			</div>
			<hr class="post-end">
			<footer class="post-info">
				<p>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://ladit.me/tags/assignment">assignment</a></span><span class="tag"><a href="https://ladit.me/tags/college">college</a></span><span class="tag"><a href="https://ladit.me/tags/sudoku">sudoku</a></span><span class="tag"><a href="https://ladit.me/tags/dfs">dfs</a></span><span class="tag"><a href="https://ladit.me/tags/backtracking">backtracking</a></span><span class="tag"><a href="https://ladit.me/tags/algorithm">algorithm</a></span>
				</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>3123 Words</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>0001-01-01 08:00</p>
			</footer>
		</article>
		<aside id="toc">
			<div class="toc-title">Table of Contents</div>
			<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#github-地址">Github 地址</a></li>
<li><a href="#解题思路">解题思路</a>
<ul>
<li><a href="#数独生成">数独生成</a></li>
<li><a href="#文件输出">文件输出</a></li>
<li><a href="#使用规范">使用规范</a></li>
</ul></li>
<li><a href="#设计实现">设计实现</a>
<ul>
<li><a href="#文件结构">文件结构</a></li>
<li><a href="#类与方法结构">类与方法结构</a></li>
</ul></li>
<li><a href="#代码说明">代码说明</a></li>
<li><a href="#测试运行">测试运行</a></li>
<li><a href="#改进记录与性能分析">改进记录与性能分析</a>
<ul>
<li><a href="#改进记录">改进记录</a></li>
<li><a href="#性能分析">性能分析</a></li>
<li><a href="#代码覆盖率">代码覆盖率</a></li>
<li><a href="#单元测试">单元测试</a></li>
</ul></li>
<li><a href="#psp-表格">PSP 表格</a></li>
<li><a href="#后话">后话</a></li>
</ul></li>
</ul>
</nav>
		</aside>
		<div class="post-nav thin">
			<a class="next-post" href="https://ladit.me/posts/20150926/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;Newer</span><br><span>夜语</span>
			</a>
			<a class="prev-post" href="https://ladit.me/posts/fragment/">
				<span class="post-nav-label">Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span>断章</span>
			</a>
		</div>
		<div id="comments" class="thin">
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ladit" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2019 <a href="https://ladit.me">Ladit</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="https://ladit.me/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>


	<script src="https://ladit.me/js/main.min.35ccbf1cdceb91e4c64c06b5d009d6e2977fafe56beda7762febd4e67528d2ac.js" integrity="sha256-Ncy/HNzrkeTGTAa10AnW4pd/r+Vr7ad2L+vU5nUo0qw="></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-143732051-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</body>

</html>
